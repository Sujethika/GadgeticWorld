CREATE DATABASE GADGETIC_WORLD

ON PRIMARY

(NAME='BATCH_1',

FILENAME='D:\capstone.MDF',

SIZE = 4MB,

MAXSIZE = 20MB,

FILEGROWTH=2%)



LOG ON

(NAME='BATCH1',

FILENAME='D:\capstone.LDF',

SIZE = 4MB,

MAXSIZE = 20MB,

FILEGROWTH=2%);



USE GADGETIC_WORLD



CREATE TABLE USER_DETAILS



(CUSTOMER_ID            NVARCHAR IDENTITY(SN0001,1) PRIMARY KEY,

NAME                    VARCHAR(MAX) not null,

GENDER                  CHAR CHECK (gender in ('m','f')),

EMAIL_ID                NVARCHAR(MAX) not null,

CONTACT_NO              NUMERIC not null unique,

PASSWORD                NVARCHAR(MAX) not null,

CONFIRM_PASSWORD        NVARCHAR(MAX) not null,

CITY                    VARCHAR(MAX),

STATE                   VARCHAR(MAX),

ADDRESS                 NVARCHAR(MAX) not null); 





CREATE TABLE USER_LOGIN



(CUSTOMER_ID            INT 

CONSTRAINT Fk_USERDETAIL FOREIGN KEY (CUSTOMER_ID)

REFERENCES USERDETAILS (CUSTOMER_ID),

EMAIL_ID                VARCHAR(MAX) NOT NULL,

PASSWORD                NVARCHAR(MAX) NOT NULL);





CREATE TABLE PRODUCT_DETAILS



(PRODUCT_ID            INT PRIMARY KEY,

PRODUCT_NAME           VARCHAR(MAX) not null,

PRODUCT_DESCRIPTION    VARCHAR(MAX) not null,

PRODUCT_IMAGE          IMAGE NOT NULL,

PRODUCT_PRICE          MONEY not null,

PRODUCT_QUANTITY       INT not null);





CREATE TABLE ORDERS_TABLE



(ORDER_ID             INT  PRIMARY KEY,

CUSTOMER_ID           INT 

CONSTRAINT Fk_USERS FOREIGN KEY (CUSTOMER_ID)

REFERENCES USERDETAILS (CUSTOMER_ID),

ORDER_PRODUCT_ID      INT 

CONSTRAINT FK_PRODUCTDETAIL FOREIGN KEY (ORDER_PRODUCT_ID)

REFERENCES PRODUCT_DETAILS (PRODUCT_ID),

ORDER_PRICE           MONEY NOT NULL,

ORDER_QUANTITY        INT NOT NULL);





CREATE TABLE SHIPPING_CART_DETAILS



(CART_ID             NVARCHAR IDENTITY(CID0001,1) PRIMARY KEY,

CUSTOMER_ID          INT 

CONSTRAINT Fk_USER_CART FOREIGN KEY (CUSTOMER_ID)

REFERENCES USERDETAILS (CUSTOMER_ID),

PRODUCT_ID           INT

CONSTRAINT FK_PRODUCT FOREIGN KEY (PRODUCT_ID)

REFERENCES PRODUCT_DETAILS (PRODUCT_ID),

QUANTITY             INT NOT NULL);



CREATE TABLE COUPON_DETAILS



(PRODUCT_ID          INT 

CONSTRAINT FK_PRODUCTDETAIL FOREIGN KEY (PRODUCT_ID)

REFERENCES PRODUCT_DETAILS (PRODUCT_ID),

ORDER_ID             INT

CONSTRAINT FK_ORDER_TABLE  FOREIGN KEY (ORDER_ID)

REFERENCES  ORDERS_TABLE  ORDER_ID

COUPON_NAME          NVARCHAR(MAX) not null,

COUPEN_CODE          NVARCHAR(MAX) NOT NULL,

COUPON_PERCENTAGE    INT )